import '../models/monster.dart';
import '../models/dungeon.dart';
import 'species_master_data.dart';

// モックのモンスターデータ
final List<Monster> mockMonsters = [
  Monster(
    id: "1",
    name: "炎竜ヴォルカノス",
    species: "ドラゴン",
    rank: "S",
    gender: "male",
    age: 15,
    lifespan: 40,
    tags: ["火属性", "攻撃特化", "リーダーシップ"],
    profile: "炎を操るドラゴン種。情熱的で常に前向きに挑戦する。その熱意は周囲を巻き込む力がある。",
    locked: false,
    skills: ["ファイアブレス", "リーダーシップ", "バトルクライ"],
    geneSeed: "dragon_fire_001",
    image: "assets/characters/Fire_Dragon.png",
    items: ["知識の書", "異国の記憶"],
    parameters: {
      "攻撃力": 85,
      "魔力": 70,
      "防御力": 60,
      "敏捷性": 50,
      "精神力": 75,
      "インテリジェンス": 65,
      "魅力": 90,
    },
    individualDeviationValue: 1.2, // オス個体の偏差値（高め）
    charm: 90,
    parameterGrowthCurves: getDefaultParameterGrowthCurves(),
  ),
  Monster(
    id: "2",
    name: "氷鳳凰フリージア",
    species: "フェニックス",
    rank: "A",
    gender: "female",
    age: 18,
    lifespan: 40,
    tags: ["氷属性", "回復", "サポート"],
    profile: "氷を操るフェニックス種。冷静で優しい性格。困っている人を見かけると放っておけない。",
    locked: false,
    skills: ["ヒール", "アイスシールド", "リフレッシュ"],
    geneSeed: "phoenix_ice_001",
    image: "assets/characters/Ice_Phenix.png",
    items: ["知識の書"],
    parameters: {
      "攻撃力": 60,
      "魔力": 85,
      "防御力": 55,
      "敏捷性": 40,
      "精神力": 80,
      "インテリジェンス": 70,
      "魅力": 90,
    },
    individualDeviationValue: 0.95, // メス個体の偏差値（安定）
    charm: 90,
    parameterGrowthCurves: getDefaultParameterGrowthCurves(),
  ),
  Monster(
    id: "3",
    name: "雷狼ボルト",
    species: "ビースト",
    rank: "B",
    gender: "male",
    age: 12,
    lifespan: 40,
    tags: ["雷属性", "高速", "独立心"],
    profile: "雷を操るビースト種。行動力があり、決断が早い。一人で行動することを好む。",
    locked: false,
    skills: ["サンダーボルト", "電光石火", "ワイルドチャージ"],
    geneSeed: "beast_thunder_001",
    image: "assets/characters/Thunder_Wolf.png",
    items: ["異国の記憶"],
    parameters: {
      "攻撃力": 50,
      "魔力": 70,
      "防御力": 45,
      "敏捷性": 90,
      "精神力": 60,
      "インテリジェンス": 55,
      "魅力": 55,
    },
    individualDeviationValue: 0.8, // オス個体の偏差値（低め）
    charm: 55,
    parameterGrowthCurves: getDefaultParameterGrowthCurves(),
  ),
  Monster(
    id: "4",
    name: "岩巨人ガーディアン",
    species: "ゴーレム",
    rank: "B",
    gender: "male",
    age: 25,
    lifespan: 40,
    tags: ["土属性", "防御特化", "頑強"],
    profile: "大地を操るゴーレム種。堅実で責任感が強い。周囲から信頼されるタイプ。",
    locked: false,
    skills: ["ストーンウォール", "ガード", "アースクエイク"],
    geneSeed: "golem_earth_001",
    image: "assets/characters/Earth_Golem.png",
    parameters: {
      "攻撃力": 85,
      "魔力": 65,
      "防御力": 90,
      "敏捷性": 55,
      "精神力": 70,
      "インテリジェンス": 60,
      "魅力": 70,
    },
    individualDeviationValue: 1.1, // オス個体の偏差値
    charm: 70,
    parameterGrowthCurves: getDefaultParameterGrowthCurves(),
  ),
  Monster(
    id: "5",
    name: "風精シルフ",
    species: "スピリット",
    rank: "A",
    gender: "female",
    age: 16,
    lifespan: 40,
    tags: ["風属性", "柔軟性", "創造性"],
    profile: "風を操るスピリット種。自由を愛し、柔軟な発想ができる。新しいことに挑戦するのが好き。",
    locked: false,
    skills: ["ウィンドカッター", "エアダッシュ", "サイクロン"],
    geneSeed: "spirit_wind_001",
    image: "assets/characters/Wind_Sylph.png",
    parameters: {
      "攻撃力": 60,
      "魔力": 80,
      "防御力": 50,
      "敏捷性": 45,
      "精神力": 75,
      "インテリジェンス": 85,
      "魅力": 85,
    },
    individualDeviationValue: 1.05, // メス個体の偏差値（安定）
    charm: 85,
    parameterGrowthCurves: getDefaultParameterGrowthCurves(),
  ),
  Monster(
    id: "6",
    name: "闇騎士シャドウ",
    species: "ヒューマノイド",
    rank: "S",
    gender: "male",
    age: 20,
    lifespan: 40,
    tags: ["闇属性", "戦略的", "冷静沈着"],
    profile: "闇を操るヒューマノイド種。知的な雰囲気で、戦略的に物事を考える。冷静な判断力を持つ。",
    locked: false,
    skills: ["シャドウボール", "戦略分析", "ダークネス"],
    geneSeed: "humanoid_dark_001",
    image: "assets/characters/Dark_Knight.png",
    items: ["知識の書", "異国の記憶"],
    parameters: {
      "攻撃力": 75,
      "魔力": 95,
      "防御力": 65,
      "敏捷性": 80,
      "精神力": 70,
      "インテリジェンス": 90,
      "魅力": 70,
    },
    individualDeviationValue: 1.3, // オス個体の偏差値（高め）
    charm: 70,
    parameterGrowthCurves: getDefaultParameterGrowthCurves(),
  ),
  Monster(
    id: "7",
    name: "聖獣ユニコーン",
    species: "ビースト",
    rank: "S",
    gender: "female",
    age: 14,
    lifespan: 40,
    tags: ["光属性", "純粋", "癒し"],
    profile: "光を操るビースト種。純粋で優しい心を持つ。周囲を明るく照らす存在。",
    locked: false,
    skills: ["ホーリーレイ", "ヒーリングライト", "パージ"],
    geneSeed: "beast_light_001",
    image: "assets/characters/Holy_Unicorn.png",
    parameters: {
      "攻撃力": 50,
      "魔力": 75,
      "防御力": 60,
      "敏捷性": 40,
      "精神力": 85,
      "インテリジェンス": 70,
      "魅力": 95,
    },
    individualDeviationValue: 1.0, // メス個体の偏差値（安定）
    charm: 95,
    parameterGrowthCurves: getDefaultParameterGrowthCurves(),
  ),
  Monster(
    id: "8",
    name: "毒粘液スライム",
    species: "スライム",
    rank: "C",
    gender: "male",
    age: 8,
    lifespan: 40,
    tags: ["毒属性", "柔軟性", "ユニーク"],
    profile: "毒を操るスライム種。個性的でユニークな発想を持つ。柔軟に物事を捉えることができる。",
    locked: false,
    skills: ["ポイズンミスト", "アダプテーション", "変形"],
    geneSeed: "slime_poison_001",
    image: "assets/characters/Poison_Slyme.png",
    parameters: {
      "攻撃力": 80,
      "魔力": 70,
      "防御力": 50,
      "敏捷性": 60,
      "精神力": 65,
      "インテリジェンス": 60,
      "魅力": 55,
    },
    individualDeviationValue: 0.9, // オス個体の偏差値
    charm: 55,
    parameterGrowthCurves: getDefaultParameterGrowthCurves(),
  ),
];

// 簡易的な配合テーブル（種族×種族で子の種族を決定）
final Map<String, Map<String, String>> breedingTable = {
  "ドラゴン": {
    "フェニックス": "ドラゴンフェニックス",
    "ビースト": "ドラゴンビースト",
    "ゴーレム": "ドラゴンゴーレム",
    "スピリット": "ドラゴンスピリット",
    "ヒューマノイド": "ドラゴンヒューマノイド",
    "スライム": "ドラゴンスライム",
  },
  "フェニックス": {
    "ドラゴン": "ドラゴンフェニックス",
    "ビースト": "フェニックスビースト",
    "ゴーレム": "フェニックスゴーレム",
    "スピリット": "フェニックススピリット",
    "ヒューマノイド": "フェニックスヒューマノイド",
    "スライム": "フェニックススライム",
  },
  "ビースト": {
    "ドラゴン": "ドラゴンビースト",
    "フェニックス": "フェニックスビースト",
    "ゴーレム": "ビーストゴーレム",
    "スピリット": "ビーストスピリット",
    "ヒューマノイド": "ビーストヒューマノイド",
    "スライム": "ビーストスライム",
  },
  "ゴーレム": {
    "ドラゴン": "ドラゴンゴーレム",
    "フェニックス": "フェニックスゴーレム",
    "ビースト": "ビーストゴーレム",
    "スピリット": "ゴーレムスピリット",
    "ヒューマノイド": "ゴーレムヒューマノイド",
    "スライム": "ゴーレムスライム",
  },
  "スピリット": {
    "ドラゴン": "ドラゴンスピリット",
    "フェニックス": "フェニックススピリット",
    "ビースト": "ビーストスピリット",
    "ゴーレム": "ゴーレムスピリット",
    "ヒューマノイド": "スピリットヒューマノイド",
    "スライム": "スピリットスライム",
  },
  "ヒューマノイド": {
    "ドラゴン": "ドラゴンヒューマノイド",
    "フェニックス": "フェニックスヒューマノイド",
    "ビースト": "ビーストヒューマノイド",
    "ゴーレム": "ゴーレムヒューマノイド",
    "スピリット": "スピリットヒューマノイド",
    "スライム": "ヒューマノイドスライム",
  },
  "スライム": {
    "ドラゴン": "ドラゴンスライム",
    "フェニックス": "フェニックススライム",
    "ビースト": "ビーストスライム",
    "ゴーレム": "ゴーレムスライム",
    "スピリット": "スピリットスライム",
    "ヒューマノイド": "ヒューマノイドスライム",
  },
};

// 深層ダンジョン探索のモックデータ

// ボスのモックデータ
final Boss mockBoss1 = Boss(
  id: "boss_1",
  name: "見習い戦士",
  species: "戦士",
  rank: "D",
  tags: ["初心者", "頑張り屋"],
  profile: "深層の最初の試練を守る見習い戦士。まだ未熟だが、真面目に戦う。",
  level: 1,
  hp: 100,
  maxHp: 100,
  attack: 20,
  defense: 15,
  speed: 10,
  threatProfile: ["単体攻撃"],
);

final Boss mockBoss2 = Boss(
  id: "boss_2",
  name: "熟練の魔術師",
  species: "魔術師",
  rank: "C",
  tags: ["魔法", "知性"],
  profile: "魔法を操る熟練の魔術師。状態異常攻撃を得意とする。",
  level: 3,
  hp: 150,
  maxHp: 150,
  attack: 30,
  defense: 20,
  speed: 25,
  threatProfile: ["状態異常", "範囲攻撃"],
);

final Boss mockBoss3 = Boss(
  id: "boss_3",
  name: "剛力の戦士",
  species: "戦士",
  rank: "B",
  tags: ["高火力", "頑強"],
  profile: "圧倒的な攻撃力を持つ戦士。一撃で決着をつける。",
  level: 5,
  hp: 200,
  maxHp: 200,
  attack: 60,
  defense: 30,
  speed: 15,
  threatProfile: ["単体高火力"],
);

// ダンジョンノードのモックデータ（分岐ノードマップ構造）
final Map<String, DungeonNode> mockDungeonNodes = {
  'start': DungeonNode(
    id: 'start',
    type: NodeType.event,
    name: '探索開始地点',
    description: '深層ダンジョンへの入り口。ここから探索が始まります。',
    rewardCategory: RewardCategory.information,
    dangerLevel: DangerLevel.low,
    recommendedTags: [],
    recommendedResistances: [],
    recommendedRoles: [],
    nextNodeIds: ['node_1', 'node_2'],
  ),
  'node_1': DungeonNode(
    id: 'node_1',
    type: NodeType.combat,
    name: '戦闘エリア',
    description: '敵との遭遇。戦闘が待ち構えている。',
    rewardCategory: RewardCategory.resource,
    dangerLevel: DangerLevel.medium,
    boss: mockBoss1,
    recommendedTags: ["攻撃", "防御"],
    recommendedResistances: [],
    recommendedRoles: ["アタッカー"],
    nextNodeIds: ['node_3', 'rest_1'],
  ),
  'node_2': DungeonNode(
    id: 'node_2',
    type: NodeType.event,
    name: '謎の遺跡',
    description: '古代の遺跡を発見。選択肢が待っている。',
    rewardCategory: RewardCategory.information,
    dangerLevel: DangerLevel.low,
    recommendedTags: [],
    recommendedResistances: [],
    recommendedRoles: [],
    nextNodeIds: ['node_3', 'contract_1'],
  ),
  'node_3': DungeonNode(
    id: 'node_3',
    type: NodeType.combat,
    name: '強敵の領域',
    description: 'より強力な敵が待ち構えている。',
    rewardCategory: RewardCategory.lineageMaterial,
    dangerLevel: DangerLevel.high,
    boss: mockBoss2,
    recommendedTags: ["状態異常耐性", "魔法防御"],
    recommendedResistances: ["状態異常"],
    recommendedRoles: ["サポーター"],
    nextNodeIds: ['rest_1', 'refinement_1'],
  ),
  'rest_1': DungeonNode(
    id: 'rest_1',
    type: NodeType.rest,
    name: '休息の間',
    description: '安全な場所で休息を取れる。回復や調整が可能。',
    rewardCategory: RewardCategory.resource,
    dangerLevel: DangerLevel.low,
    recommendedTags: [],
    recommendedResistances: [],
    recommendedRoles: [],
    nextNodeIds: ['node_4'],
  ),
  'contract_1': DungeonNode(
    id: 'contract_1',
    type: NodeType.contract,
    name: '契約遭遇',
    description: '希少な個体との偶然の出会い。交渉のチャンス。',
    rewardCategory: RewardCategory.contractClause,
    dangerLevel: DangerLevel.medium,
    recommendedTags: [],
    recommendedResistances: [],
    recommendedRoles: [],
    nextNodeIds: ['node_4'],
  ),
  'refinement_1': DungeonNode(
    id: 'refinement_1',
    type: NodeType.refinement,
    name: '精錬工房',
    description: '資源を変換・強化できる工房。',
    rewardCategory: RewardCategory.resource,
    dangerLevel: DangerLevel.low,
    recommendedTags: [],
    recommendedResistances: [],
    recommendedRoles: [],
    nextNodeIds: ['node_4'],
  ),
  'node_4': DungeonNode(
    id: 'node_4',
    type: NodeType.combat,
    name: 'ボス戦',
    description: '深層のボスが待ち構えている。',
    rewardCategory: RewardCategory.lineageMaterial,
    dangerLevel: DangerLevel.high,
    boss: mockBoss3,
    recommendedTags: ["防御", "HP回復"],
    recommendedResistances: ["物理攻撃"],
    recommendedRoles: ["タンク"],
    nextNodeIds: [],
  ),
};

// 初期の深層ダンジョン探索の状態
final DungeonExplorationState initialDungeonExplorationState = DungeonExplorationState(
  currentNodeId: null,
  nodes: mockDungeonNodes,
  visitedNodeIds: [],
  hud: ExplorationHUD(
    hp: 100,
    maxHp: 100,
    recoveryCount: 3,
    stress: 0,
    maxStress: 100,
    securedAssets: {},
    unsecuredAssets: {},
  ),
  isInRoom: false,
  currentRoomNodeId: null,
  contractSettings: null, // 契約設定は探索開始前に設定
  history: ExplorationHistory(
    combatEntries: [],
    eventEntries: [],
    currentFloor: 0,
    wedgesSecured: 0,
  ),
);

